<!DOCTYPE html>
<html>
<head>
	<title>TeamsApp</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" type="image/png" href="images/favicon.png"/>
	<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>

  	<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-auth.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-database.js"></script>

  <!-- TODO: Add SDKs for Firebase products that you want to use
       https://firebase.google.com/docs/web/setup#available-libraries -->


	<script>
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    var firebaseConfig = {
			apiKey: "AIzaSyA95T4VqAonLg6MZhZ3hYPRXW17nB373ZM",
    authDomain: "chatapp-e7315.firebaseapp.com",
    databaseURL: "https://chatapp-e7315-default-rtdb.firebaseio.com",
    projectId: "chatapp-e7315",
    storageBucket: "chatapp-e7315.appspot.com",
    messagingSenderId: "228175290998",
    appId: "1:228175290998:web:2f8b65e4aab83416517557"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

  </script>

  <link rel="stylesheet" type="text/css" href="css/auth.css">
  <link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700,800&display=swap" rel="stylesheet">
</head>
<body>
  <div class="cont">
    <div class="form sign-in">
      <h2>Sign In</h2>
			<label>
				<span>Name</span>
				<input id="nam" type="text">
			</label>
      <label>
        <span>Email Address</span>
        <input id="email_l" type="email" name="email">
      </label>
      <label>
        <span>Password</span>
        <input id="password_l" type="password" name="password">
      </label>
      <button class="submit" type="button" onclick="login()">Sign In</button>



    </div>

    <div class="sub-cont">
      <div class="img">
        <div class="img-text m-up">
          <h2>New here?</h2>
          <p>Sign up and discover great amount of new opportunities!</p>
        </div>
        <div class="img-text m-in">
          <h2>One of us?</h2>
          <p>If you already has an account, just sign in. We've missed you!</p>
        </div>
        <div class="img-btn">
          <span class="m-up">Sign Up</span>
          <span class="m-in">Sign In</span>
        </div>
      </div>
      <div class="form sign-up">
        <h2>Sign Up</h2>
        <label>
          <span>Name</span>
          <input id="namee" type="text">
        </label>
        <label>
          <span>Email</span>
          <input id="email_s" type="email">
        </label>
        <label>
          <span>Password</span>
          <input id="password_s" type="password">
        </label>

        <button type="button" class="submit" onclick="signup()">Sign Up Now</button>
      </div>
    </div>
  </div>
<!-- <script type="text/javascript" src="js/chat.js"></script> -->
</body>
<script  type="text/javascript">

document.querySelector('.img-btn').addEventListener('click', function()
	{
		document.querySelector('.cont').classList.toggle('s-signup')
	}
);




function signup(){
		 var email=document.getElementById("email_s").value;
var person = document.getElementById("namee").value;
	 if(email=="") window.alert("Email cannot be empty!");

	 else {
firebase.auth().createUserWithEmailAndPassword(email, document.getElementById("password_s").value)
.then((user) => {
	localStorage.setItem('myCat', person);

 window.location = '/chat';
})
.catch((FirebaseAuthUserCollisionException) => {
		window.alert("Something went wrong, please try again2!");
	// ..
})
.catch((error) => {
	window.alert("Something went wrong, please try again!");
	// ..
}); }

}

function login(){
     var email=document.getElementById("email_l").value;
     var per = document.getElementById("nam").value;
         if(email=="") window.alert("Email cannot be empty!");

         else {
    firebase.auth().signInWithEmailAndPassword(email, document.getElementById("password_l").value)
.then(function(result) {
   localStorage.setItem('myCat', per);
   window.location ='/chat';
         console.log(result);
}).catch(function(error) {

   window.alert("Error in login! Please try again!");
}); }
}

</script>
</html>
